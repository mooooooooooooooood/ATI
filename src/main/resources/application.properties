# ============================================
# DATABASE CONFIGURATION (MySQL)
# ============================================
spring.datasource.url=jdbc:mysql://localhost:3306/ielts_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=maychetvoitao
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================
# JPA / HIBERNATE CONFIGURATION
# ============================================
# Show SQL queries in console (for debugging)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Hibernate DDL auto (create, update, validate, none)
# Use 'validate' in production, 'update' in development
spring.jpa.hibernate.ddl-auto=update

# Hibernate dialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Enable lazy loading
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true

# ============================================
# SERVER CONFIGURATION
# ============================================
server.port=8082
server.servlet.context-path=/

# Session timeout (60 minutes)
server.servlet.session.timeout=60m

# ============================================
# THYMELEAF CONFIGURATION
# ============================================
spring.thymeleaf.cache=false
spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML

# ============================================
# LOGGING CONFIGURATION
# ============================================
logging.level.root=INFO
logging.level.com.ieltsgrading.ielts_evaluator=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate=INFO

# Log SQL parameters
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ============================================
# ENCODING
# ============================================
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# ============================================
# REST TEMPLATE / HTTP CLIENT CONFIGURATION
# ============================================
# Timeouts for calling external API
spring.mvc.async.request-timeout=60000

# ============================================
# APPLICATION SPECIFIC CONFIGURATION
# ============================================
# External API Base URL (for writing evaluation)
app.external-api.base-url=https://zoogleal-parsonish-almeda.ngrok-free.dev
app.external-api.timeout-connect=30000
app.external-api.timeout-read=60000

gemini.api.key=AIzaSyBrXpaS0vYNzanlU_H1RSuNVbfGpbueLqo


# =====================================
# AUDIO UPLOAD CONFIGURATION
# =====================================

# Directory for storing uploaded audio files
audio.upload.dir=uploads/audio

# Maximum file size for uploads (10MB)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB

# Enable multipart file uploads
spring.servlet.multipart.enabled=true

# ========================================
# SESSION CONFIGURATION
# ========================================
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false

